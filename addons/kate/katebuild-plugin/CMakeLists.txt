set(katebuild_SRCS plugin_katebuild.cpp targets.cpp selecttargetdialog.cpp)

qt5_wrap_ui(katebuild_SRCS build.ui)

add_library(katebuildplugin MODULE ${katebuild_SRCS})

target_link_libraries(katebuildplugin KF5::TextEditor KF5::I18n KF5::IconThemes)

########### install files ###############
install(FILES ui.rc DESTINATION ${DATA_INSTALL_DIR}/katebuild)
install(TARGETS katebuildplugin DESTINATION ${PLUGIN_INSTALL_DIR})
install(FILES katebuildplugin.desktop DESTINATION ${SERVICES_INSTALL_DIR})
ecm_install_icons (${ICON_INSTALL_DIR})
kservice_desktop_to_json (katebuildplugin.desktop)

